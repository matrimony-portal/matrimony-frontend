<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bandan - Forgot Password</title>
    <link
      rel="icon"
      type="image/png"
      href="../../assets/favicon/favicon-96x96.png"
      sizes="96x96"
    />
    <link
      rel="icon"
      type="image/svg+xml"
      href="../../assets/favicon/favicon.svg"
    />
    <link rel="shortcut icon" href="../../assets/favicon/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../../assets/favicon/apple-touch-icon.png"
    />
    <link rel="manifest" href="../../assets/favicon/site.webmanifest" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #5a0d14 0%, #ae1700 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      }
      .container {
        background: white;
        border-radius: 15px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        overflow: hidden;
        max-width: 500px;
        width: 100%;
      }
      .header-section {
        background: linear-gradient(135deg, #5a0d14 0%, #ae1700 100%);
        color: white;
        padding: 2rem;
        text-align: center;
      }
      .header-section h1 {
        font-size: 2rem;
        margin-bottom: 0.5rem;
      }
      .form-section {
        padding: 2.5rem;
      }
      .step {
        display: none;
      }
      .step.active {
        display: block;
      }
      .icon {
        font-size: 4rem;
        text-align: center;
        margin-bottom: 1rem;
      }
      h2 {
        color: #333;
        margin-bottom: 0.5rem;
        text-align: center;
      }
      .subtitle {
        color: #666;
        text-align: center;
        margin-bottom: 2rem;
      }
      .form-group {
        margin-bottom: 1.5rem;
      }
      .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        color: #333;
        font-weight: 500;
      }
      .form-group input {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 1rem;
      }
      .form-group input:focus {
        outline: none;
        border-color: #ae1700;
      }
      .btn {
        width: 100%;
        padding: 1rem;
        background: linear-gradient(135deg, #5a0d14 0%, #ae1700 100%);
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.3s;
      }
      .btn:hover {
        transform: translateY(-2px);
      }
      .back-link {
        text-align: center;
        margin-top: 1.5rem;
      }
      .back-link a {
        color: #ae1700;
        text-decoration: none;
        font-weight: 600;
      }
      .otp-inputs {
        display: flex;
        gap: 0.5rem;
        justify-content: center;
        margin-bottom: 2rem;
      }
      .otp-input {
        width: 50px;
        height: 50px;
        text-align: center;
        font-size: 1.5rem;
        border: 2px solid #ddd;
        border-radius: 8px;
      }
      .otp-input:focus {
        border-color: #ae1700;
        outline: none;
      }
      .resend {
        text-align: center;
        color: #666;
        margin-top: 1rem;
      }
      .resend a {
        color: #ae1700;
        text-decoration: none;
        font-weight: 600;
      }
      .success-icon {
        color: #10b981;
      }

      /*--------logo--------*/
      .logo {
        display: flex;
        align-items: center;
        justify-content: center;
        /*gap: 0.75rem;*/
      }

      .logo-icon {
        height: 50px;
        width: auto;
      }

      .logo-text {
        height: 40px;
        width: auto;
      }

      /* For responsive - hide text on small screens */
      @media (max-width: 768px) {
        .logo-text {
          display: none;
        }

        .logo-icon {
          height: 35px;
        }
      }
      /*----*/
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header-section">
        <div class="logo">
          <img src="../../assets/logo/logo.svg" alt="Logo" class="logo-icon" />
          <img
            src="../../assets/logo/bandan.svg"
            alt="Bandan"
            class="logo-text"
          />
        </div>
        <p>Password Recovery</p>
      </div>

      <div class="form-section">
        <!-- Step 1: Enter Email -->
        <div id="step1" class="step active">
          <div class="icon">üîê</div>
          <h2>Forgot Password?</h2>
          <p class="subtitle">Enter your email to receive a reset code</p>

          <form onsubmit="return sendOTP();">
            <div class="form-group">
              <label>Email Address</label>
              <input
                type="email"
                id="email"
                required
                placeholder="Enter your registered email"
              />
            </div>
            <button type="submit" class="btn">Send Reset Code</button>
          </form>

          <div class="back-link">
            <a href="login.html">‚Üê Back to Login</a>
          </div>
        </div>

        <!-- Step 2: Enter OTP -->
        <div id="step2" class="step">
          <div class="icon">üìß</div>
          <h2>Enter Verification Code</h2>
          <p class="subtitle">
            We've sent a 6-digit code to<br /><strong
              id="emailDisplay"
            ></strong>
          </p>

          <form onsubmit="return verifyOTP();">
            <div class="otp-inputs">
              <input
                type="text"
                class="otp-input"
                maxlength="1"
                oninput="moveToNext(this, 1)"
              />
              <input
                type="text"
                class="otp-input"
                maxlength="1"
                oninput="moveToNext(this, 2)"
              />
              <input
                type="text"
                class="otp-input"
                maxlength="1"
                oninput="moveToNext(this, 3)"
              />
              <input
                type="text"
                class="otp-input"
                maxlength="1"
                oninput="moveToNext(this, 4)"
              />
              <input
                type="text"
                class="otp-input"
                maxlength="1"
                oninput="moveToNext(this, 5)"
              />
              <input
                type="text"
                class="otp-input"
                maxlength="1"
                oninput="moveToNext(this, 6)"
              />
            </div>
            <button type="submit" class="btn">Verify Code</button>
          </form>

          <div class="resend">
            Didn't receive code? <a href="#" onclick="resendOTP()">Resend</a>
          </div>
        </div>

        <!-- Step 3: Reset Password -->
        <div id="step3" class="step">
          <div class="icon">üîë</div>
          <h2>Set New Password</h2>
          <p class="subtitle">Create a strong password for your account</p>

          <form onsubmit="return resetPassword();">
            <div class="form-group">
              <label>New Password</label>
              <input
                type="password"
                id="newPassword"
                required
                minlength="8"
                placeholder="Minimum 8 characters"
              />
            </div>
            <div class="form-group">
              <label>Confirm Password</label>
              <input
                type="password"
                id="confirmPassword"
                required
                placeholder="Re-enter your password"
              />
            </div>
            <button type="submit" class="btn">Reset Password</button>
          </form>
        </div>

        <!-- Step 4: Success -->
        <div id="step4" class="step">
          <div class="icon success-icon">‚úì</div>
          <h2>Password Reset Successful!</h2>
          <p class="subtitle">Your password has been changed successfully</p>

          <button class="btn" onclick="window.location.href = 'login.html'">
            Go to Login
          </button>
        </div>
      </div>
    </div>

    <script>
      function sendOTP() {
        const email = document.getElementById("email").value;
        document.getElementById("emailDisplay").textContent = email;
        showStep(2);
        alert("Verification code sent to " + email);
        return false;
      }

      function moveToNext(current, index) {
        if (current.value.length === 1 && index < 6) {
          document.querySelectorAll(".otp-input")[index].focus();
        }
      }

      function verifyOTP() {
        const otpInputs = document.querySelectorAll(".otp-input");
        const otp = Array.from(otpInputs)
          .map((input) => input.value)
          .join("");
        if (otp.length === 6) {
          showStep(3);
          alert("Code verified successfully!");
        } else {
          alert("Please enter complete 6-digit code");
        }
        return false;
      }

      function resendOTP() {
        alert("New verification code sent!");
        return false;
      }

      function resetPassword() {
        const newPassword = document.getElementById("newPassword").value;
        const confirmPassword =
          document.getElementById("confirmPassword").value;

        if (newPassword !== confirmPassword) {
          alert("Passwords do not match!");
          return false;
        }

        if (newPassword.length < 8) {
          alert("Password must be at least 8 characters long!");
          return false;
        }

        showStep(4);
        return false;
      }

      function showStep(stepNumber) {
        document
          .querySelectorAll(".step")
          .forEach((step) => step.classList.remove("active"));
        document.getElementById("step" + stepNumber).classList.add("active");
      }
    </script>
  </body>
</html>
